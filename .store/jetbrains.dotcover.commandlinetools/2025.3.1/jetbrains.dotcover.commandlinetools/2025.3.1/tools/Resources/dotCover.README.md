# JetBrains dotCover. Cross-platform .NET code coverage tool.

The dotCover command-line tool lets you run code coverage analysis for .NET and .NET Framework projects, generate coverage snapshots or reports, and apply flexible filtering.

---

## Analyze coverage in .NET projects

Build your project, run coverage analysis and get a coverage snapshot:
```bash
    dotnet build
    dotCover cover --snapshot-output snapshot.dcvr -- test --no-build
```

Run coverage analysis and generate a report:

```bash
  dotCover cover --xml-report-output report.xml -- test --no-build
```

Use a response file with configuration:

```bash
  dotCover cover @"~/config/config.txt"
```

---

## Analyze coverage in .NET Framework projects

Make sure your project is already built.

Run coverage analysis (for example, using NUnit) and get a coverage snapshot:

```bash
    dotCover cover --target-executable "D:\Program Files\NUnit 2.6\bin\nunit-console.exe" \
      --target-arguments "D:\Projects\TheApplication\bin\Debug\AppTests.dll" \
      --snapshot-output snapshot.dcvr
```
Here:
- `--target-executable` – path to the test runner (e.g., `nunit-console.exe`)
- `--target-arguments` – path to the test DLL

Run coverage analysis and generate a report:

```bash
    dotCover cover --target-executable "D:\Program Files\NUnit 2.6\bin\nunit-console.exe" \
      --target-arguments "D:\Projects\TheApplication\bin\Debug\AppTests.dll" \
      --xml-report-output report.xml
```

Use a response file with configuration:

```bash
  dotCover cover @"D:\Config\config.txt"
```

---

## Apply coverage filters

Use filters to exclude specific assemblies, code marked with attributes, or processes from analysis.

### Assembly filter

```bash
  dotCover cover --exclude-assemblies MyTests,*Helpers
```

### Attribute filter

```bash
  dotCover cover --exclude-attributes System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute
```

### Process filter

```bash
  dotCover cover --exclude-processes vstest.discovery.engine
```

### Combine filters from CLI and response files

You can specify the same filter option multiple times — dotCover will combine the values.

```bash
  dotCover cover --exclude-assemblies "*.Tests" @filters.txt
```

Contents of `filters.txt`:

```txt
    --exclude-assemblies ThirdPartyLib
    --exclude-attributes System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute
```

---

## Command-line parameters

The following rules apply to all dotCover command-line parameters:

- Use the same syntax across all platforms.
- Separate parameter names and values with a space:  
  `--target-executable MyApp.exe`
- Parameters are case-sensitive and use `kebab-case`.
- Escape paths with spaces using extra double quotes and backslashes:  
  `--target-arguments "\"D:\My Projects\MyApp\bin\Debug\AppTests.dll\""`
- Relative paths are resolved from the working directory.
- If no output options are specified, dotCover generates a snapshot (`.dcvr`) by default.  
  To get a report, use `--json-report-output` or `--xml-report-output`.  
  To get both, specify both `--snapshot-output` and a report output option.
- Use response files to manage long parameter sets:  
  `dotCover cover @args.txt`

---

## Command reference
### cover
```txt
dotCover cover — Run coverage analysis on a specified application or test project
=================================================================================

Usage:
  dotCover cover <options> [-- <target arguments>]
  dotCover cover @<args-file> [@<args-file2> ...] [<options>]

Description:
  Runs coverage analysis for the specified executable, .NET test project, or any dotnet command.
  If no executable is specified, dotCover will try to automatically run 'dotnet'.

Options:
  --target-executable <path>
      Path to the application or test runner to analyze.
      If omitted, dotCover will auto-detect the 'dotnet' CLI.

  --target-arguments <args>
      Command-line arguments to pass to the target executable.
      You can omit the parameter and specify them after a double dash: -- arg1 arg2

  --target-working-directory <path>
      Application working directory. By default, it's the target’s directory.

  --snapshot-output <path>
      Path to save the raw coverage snapshot ('.dcvr'). Autogenerated if omitted.

Filter options:
  --exclude-assemblies <list>
      Comma-separated list of assembly names to exclude from analysis. Wildcards (*) allowed, e.g., *.Tests
      You can specify this option multiple times; all values will be combined.

  --exclude-attributes <list>
      Comma-separated list of fully qualified attribute names.
      Code marked with these will be excluded, e.g., System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute
      Wildcards (*) allowed. You can specify this option multiple times; all values will be combined.

  --exclude-processes <list>
      Comma-separated list of process names to ignore during analysis. Wildcards (*) allowed.
      You can specify this option multiple times; all values will be combined.

Report options:
  --json-report-output <path>
      Paths to save formatted JSON report.

  --xml-report-output <path>
      Paths to save formatted XML report.

Advanced options:
  --temporary-directory <path>
      Directory for temporary files. By default, it's the system temp folder.

  --use-api
      Control the coverage session using the profiler API.

  --no-ngen
      Disable loading of NGen images during coverage.

  --log-file <path>
      Enable logging and specify the path to the log file.

Notes:
  - You can use response files with the '@<args-file>' syntax to simplify command lines.

Examples:
  dotCover cover --json-report-output report.json -- test
  dotCover cover @args.txt
```

### report
```txt
dotCover report — Generate a coverage report from a snapshot
============================================================

Usage:
  dotCover report <options>
  dotCover report @<args-file> [@<args-file2> ...] [<options>]

Description:
  Creates a formatted report (XML or JSON) from a coverage snapshot (.dcvr).

Options:
  --snapshot-source <path>
      Required. Path to the coverage snapshot file (.dcvr).

  --json-report-output <path>
      Paths to save formatted JSON report.

  --xml-report-output <path>
      Paths to save formatted XML report.

Advanced options:
  --log-file <path>
      Enable logging and specify the path to the log file.

Notes:
  - You can use response files with the '@<args-file>' syntax to simplify command lines.

Examples:
  dotCover report --snapshot-source merged.dcvr --xml-report-output report.xml
  dotCover report @report-args.txt
```

### merge
```txt
dotCover merge — Combine multiple coverage snapshots into one
=============================================================

Usage:
  dotCover merge <options>
  dotCover merge @<args-file> [@<args-file2> ...] [<options>]

Description:
  Merges two or more coverage snapshots (.dcvr files) into a single snapshot.
  This is useful when coverage was collected in separate test runs (e.g., with different test frameworks or target platforms).

Options:
  --snapshot-source <list>
      Required. Comma-separated list of source snapshot files to merge.

  --snapshot-output <path>
      Path to save the merged snapshot (.dcvr). If omitted, a file name will be generated automatically.

Advanced options:
  --temporary-directory <path>
      Directory for temporary files. By default, it's the system temp folder.

  --log-file <path>
      Enable logging and specify the path to the log file.

Notes:
  - You can use response files with the '@<args-file>' syntax to simplify command lines.

Examples:
  dotCover merge --snapshot-source run1.dcvr,run2.dcvr --snapshot-output merged.dcvr
  dotCover merge @merge-args.txt
```

### version
```txt
dotCover version — Write the current dotCover version to a file
===============================================================

Usage:
  dotCover version [options]

Description:
  Write the version to a specified file.

Options:
  --text-output <path>
      Path to save the version information as plain text.

Examples:
  dotCover version
  dotCover version --text-output version.txt
```

### help
```
dotCover help — Show help for dotCover CLI commands
===================================================

Usage:
  dotCover help [<command>]

Description:
  Displays detailed help for a specific command.

Available commands:
  cover     Run coverage analysis on an application or test project
  merge     Combine multiple coverage snapshots into one
  report    Generate a coverage report from a snapshot
  version   Display the current dotCover version
  help      Show help on commands

Examples:
  dotCover help cover
```

### Exit codes
```txt
dotCover exit codes — Meaning of return codes from CLI commands
===============================================================

Exit codes returned by dotCover commands:

  0   Success  
      The command completed successfully.

  1   Command execution error  
      An unexpected error occurred while executing the command.

  2   Command configuration error  
      One or more required parameters were missing or invalid.

  3   Target application error  
      The target application or test runner returned a non-zero exit code.

  4   Command timeout  
      The command execution timed out before completion.
```
